{"ast":null,"code":"var _jsxFileName = \"/home/dev/\\xC1rea de Trabalho/Projetos/Sistema de Pet/frontend/src/components/pages/Pet/PetDetails.js\",\n    _s = $RefreshSig$();\n\nimport api from '../../../utils/api';\nimport styles from './PetDetails.module.css';\nimport { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\n/*hooks*/\n\nimport useFlashMessage from '../../../hooks/useFlashMessage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction PetDetails() {\n  _s();\n\n  const [pet, setPet] = useState({});\n  const {\n    id\n  } = useParams();\n  const {\n    setFlashMessage\n  } = useFlashMessage();\n  const [token] = useState(localStorage.getItem('token') || '');\n  useEffect(() => {\n    api.get(`/pets/${id}`).then(response => {\n      setPet(response.data.pet);\n    });\n  }, [id]);\n\n  async function schedule() {\n    let msgType = 'success';\n    const data = await api.patch(`pets/schedule/${pet._id}`, {\n      Authorization: `Bearer ${JSON.parse(token)}`\n    }).then().catch(err => {\n      msg;\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: pet.name && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: styles.pet_details_container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.pet_details_header,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Conhecendo o Pet: \", pet.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Se tiver interesse, marque uma visita para conhec\\xEA-lo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.pet_images,\n        children: pet.images.map((image, index) => /*#__PURE__*/_jsxDEV(\"img\", {\n          src: `${process.env.REACT_APP_API}/images/pets/${image}`,\n          alt: pet.name\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"bold\",\n          children: \"Peso:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, this), \" \", pet.weight, \"kg\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, this), token ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: schedule,\n        children: \"Solicitar uma visita\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Voc\\xEA precisa \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          children: \"criar uma conta\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 41\n        }, this), \" para solicitar a visita\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n}\n\n_s(PetDetails, \"9npIi2xgx2i426nzi/sy2/vsVng=\", false, function () {\n  return [useParams, useFlashMessage];\n});\n\n_c = PetDetails;\nexport default PetDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"PetDetails\");","map":{"version":3,"names":["api","styles","useState","useEffect","useParams","Link","useFlashMessage","PetDetails","pet","setPet","id","setFlashMessage","token","localStorage","getItem","get","then","response","data","schedule","msgType","patch","_id","Authorization","JSON","parse","catch","err","msg","name","pet_details_container","pet_details_header","pet_images","images","map","image","index","process","env","REACT_APP_API","weight"],"sources":["/home/dev/Área de Trabalho/Projetos/Sistema de Pet/frontend/src/components/pages/Pet/PetDetails.js"],"sourcesContent":["import api from '../../../utils/api'\n\nimport styles from './PetDetails.module.css';\n\nimport {useState, useEffect} from 'react';\nimport {useParams, Link} from 'react-router-dom'\n\n/*hooks*/\nimport useFlashMessage from '../../../hooks/useFlashMessage';\n\nfunction PetDetails() {\n    const [pet, setPet] = useState({})\n    const {id} = useParams()\n    const {setFlashMessage} = useFlashMessage()\n    const [token] = useState(localStorage.getItem('token') || '')\n\n    useEffect(() => {\n        api.get(`/pets/${id}`).then((response) => {\n            setPet(response.data.pet)\n        })\n    }, [id])\n\n    async function schedule(){\n        let msgType = 'success'\n\n        const data = await api.patch(`pets/schedule/${pet._id}`,{\n            Authorization: `Bearer ${JSON.parse(token)}`\n        }).then().catch((err) => {\n            msg\n        })\n    }\n\n    return (\n        <>\n            {pet.name && (\n                <section className={styles.pet_details_container}>\n                    <div className={styles.pet_details_header}>\n                        <h1>Conhecendo o Pet: {pet.name}</h1>\n                        <p>Se tiver interesse, marque uma visita para conhecê-lo</p>\n                    </div>\n                    <div className={styles.pet_images}>\n                        {pet.images.map((image, index) => (\n                            <img\n                              src={`${process.env.REACT_APP_API}/images/pets/${image}`}\n                              alt={pet.name}\n                              key={index}\n                            />\n                        ))}\n                    </div>\n                    <p>\n                        <span className='bold'>Peso:</span> {pet.weight}kg \n                    </p>\n                    {token ? (\n                        <button onClick={schedule}>Solicitar uma visita</button>\n                    ) : (\n                        <p>Você precisa <Link to=\"/register\">criar uma conta</Link> para solicitar a visita</p>\n                    )}\n                </section>\n            )}\n        </>\n    )\n}\n\nexport default PetDetails;"],"mappings":";;;AAAA,OAAOA,GAAP,MAAgB,oBAAhB;AAEA,OAAOC,MAAP,MAAmB,yBAAnB;AAEA,SAAQC,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,SAAQC,SAAR,EAAmBC,IAAnB,QAA8B,kBAA9B;AAEA;;AACA,OAAOC,eAAP,MAA4B,gCAA5B;;;;AAEA,SAASC,UAAT,GAAsB;EAAA;;EAClB,MAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBP,QAAQ,CAAC,EAAD,CAA9B;EACA,MAAM;IAACQ;EAAD,IAAON,SAAS,EAAtB;EACA,MAAM;IAACO;EAAD,IAAoBL,eAAe,EAAzC;EACA,MAAM,CAACM,KAAD,IAAUV,QAAQ,CAACW,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,EAAlC,CAAxB;EAEAX,SAAS,CAAC,MAAM;IACZH,GAAG,CAACe,GAAJ,CAAS,SAAQL,EAAG,EAApB,EAAuBM,IAAvB,CAA6BC,QAAD,IAAc;MACtCR,MAAM,CAACQ,QAAQ,CAACC,IAAT,CAAcV,GAAf,CAAN;IACH,CAFD;EAGH,CAJQ,EAIN,CAACE,EAAD,CAJM,CAAT;;EAMA,eAAeS,QAAf,GAAyB;IACrB,IAAIC,OAAO,GAAG,SAAd;IAEA,MAAMF,IAAI,GAAG,MAAMlB,GAAG,CAACqB,KAAJ,CAAW,iBAAgBb,GAAG,CAACc,GAAI,EAAnC,EAAqC;MACpDC,aAAa,EAAG,UAASC,IAAI,CAACC,KAAL,CAAWb,KAAX,CAAkB;IADS,CAArC,EAEhBI,IAFgB,GAETU,KAFS,CAEFC,GAAD,IAAS;MACrBC,GAAG;IACN,CAJkB,CAAnB;EAKH;;EAED,oBACI;IAAA,UACKpB,GAAG,CAACqB,IAAJ,iBACG;MAAS,SAAS,EAAE5B,MAAM,CAAC6B,qBAA3B;MAAA,wBACI;QAAK,SAAS,EAAE7B,MAAM,CAAC8B,kBAAvB;QAAA,wBACI;UAAA,iCAAuBvB,GAAG,CAACqB,IAA3B;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAKI;QAAK,SAAS,EAAE5B,MAAM,CAAC+B,UAAvB;QAAA,UACKxB,GAAG,CAACyB,MAAJ,CAAWC,GAAX,CAAe,CAACC,KAAD,EAAQC,KAAR,kBACZ;UACE,GAAG,EAAG,GAAEC,OAAO,CAACC,GAAR,CAAYC,aAAc,gBAAeJ,KAAM,EADzD;UAEE,GAAG,EAAE3B,GAAG,CAACqB;QAFX,GAGOO,KAHP;UAAA;UAAA;UAAA;QAAA,QADH;MADL;QAAA;QAAA;QAAA;MAAA,QALJ,eAcI;QAAA,wBACI;UAAM,SAAS,EAAC,MAAhB;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADJ,OACyC5B,GAAG,CAACgC,MAD7C;MAAA;QAAA;QAAA;QAAA;MAAA,QAdJ,EAiBK5B,KAAK,gBACF;QAAQ,OAAO,EAAEO,QAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADE,gBAGF;QAAA,4CAAgB,QAAC,IAAD;UAAM,EAAE,EAAC,WAAT;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAAhB;MAAA;QAAA;QAAA;QAAA;MAAA,QApBR;IAAA;MAAA;MAAA;MAAA;IAAA;EAFR,iBADJ;AA6BH;;GAnDQZ,U;UAEQH,S,EACaE,e;;;KAHrBC,U;AAqDT,eAAeA,UAAf"},"metadata":{},"sourceType":"module"}